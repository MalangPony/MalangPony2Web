<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&family=Noto+Sans+Mono:wght@100..900&display=swap" rel="stylesheet">
<link href="styles.css" rel="stylesheet" />
</head>

<body>
<div id="whole-screen-div" class="fullsize">
  
  <div id="l2d-container" >
    <canvas id="l2d-canvas" style="width:100%;height:100%;"></canvas>
  </div>
  
  <div id="hmr-image-container">
    <img id="hmr-ground" src="MPN2-Prototype-Image-Hanmari4.png" style="z-index:3;opacity:0;">
    <img id="hmr-flash01" src="MPN2-Prototype-Image-Hanmari3.png" style="z-index:2;opacity:0;">
    <img id="hmr-base" src="MPN2-Prototype-Image-Hanmari2.png" style="z-index:1;">
  </div>
  <div id="stickies" class="fullsize" style="z-index:80;pointer-events:none;">
    <div id="sidebar-animation-container">
        <div id="sidebar-intro-anim" style="display:none;">
          <div id="letter-magic-spritesheet-animation"></div>
        </div>
      </div>
    <div id="sidebar-positioner" class="fullsize" style="z-index:10;">
      <div id="sidebar" class="css-filters" style="pointer-events:auto;display:none;">
        <div onclick="sidebar_clicked('intro');" class="sb-link sb-link-active">
          <span class="lang-en">Home</span>
          <span class="lang-ko">홈</span>
        </div>
        <div onclick="sidebar_clicked('about');" class="sb-link sb-link-active">
          <span class="lang-en">About</span>
          <span class="lang-ko">개요</span>
        </div>
        <div onclick="sidebar_clicked('coc');" class="sb-link sb-link-active">
          <span class="lang-en">Code of Conduct</span>
          <span class="lang-ko">규칙</span>
        </div>
        <div onclick="sidebar_clicked('register');" class="sb-link sb-link-disabled">
          <span class="lang-en">Registration</span>
          <span class="lang-ko">등록</span>
        </div>
        <div onclick="sidebar_clicked('timetable');" class="sb-link sb-link-disabled">
          <span class="lang-en">Timetable</span>
          <span class="lang-ko">시간표</span>
        </div>
        <div onclick="sidebar_clicked('directions');" class="sb-link sb-link-disabled">
          <span class="lang-en">Directions</span>
          <span class="lang-ko">오시는 길</span>
        </div>
        <div onclick="sidebar_clicked('conbook');" class="sb-link sb-link-disabled">
          <span class="lang-en">Conbook</span>
          <span class="lang-ko">콘북</span>
        </div>
        <div onclick="sidebar_clicked('news');" class="sb-link sb-link-active">
          <span class="lang-en">News</span>
          <span class="lang-ko">소식</span>
        </div>
        <div onclick="sidebar_clicked('sponsors');" class="sb-link sb-link-disabled">
          <span class="lang-en">Sponsors</span>
          <span class="lang-ko">스폰서</span>
        </div>
        <div onclick="sidebar_clicked('involved');" class="sb-link sb-link-disabled">
          <span class="lang-en">Get Involved</span>
          <span class="lang-ko">모집</span>
        </div>
        <div onclick="sidebar_clicked('mascot');" class="sb-link sb-link-disabled">
          <span class="lang-en">Our Mascot</span>
          <span class="lang-ko">마스코트</span>
        </div>
        <div onclick="sidebar_clicked('staff');" class="sb-link sb-link-disabled">
          <span class="lang-en">Staff</span>
          <span class="lang-ko">스태프</span>
        </div>
      </div>
    </div>
    
    <div id="langswitch-positioner" class="fullsize"  style="z-index:5;">
      <div id="lang-btn"  style="pointer-events:auto;">
        <span class="lang-en">한국어</span>
        <span class="lang-ko">English</span>
      </div>
    </div>
    
    <div id="sb-button-positioner" class="fullsize" style="z-index:6;">
      <img src="MPN2-Prototype-Image-Scroll2.png" id="sb-btn" style="pointer-events:auto;display:none;"> 
    </div>
    
    <div id="debug-print-area" style="z-index:99;background-color:#00000040;color:#88FF8880;position:absolute;bottom:0;left:0;width:160px;font-size:10px;font-family:monospace;font-weight:700;padding:4px;display:flex;flex-direction:column-reverse;">
      <div id="debug-print-fps">-</div>
      <div id="debug-print-fps2">-</div>
      <div id="debug-print-fps3">-</div>
      <div id="debug-print-acms">-</div>
      <div id="debug-print-stars">-</div>
      <div id="debug-print-particles">-</div>
      <div id="debug-print-fl">-</div>
      <div style="display:flex;flex-direction:row;justify-content:space-around;margin-top:2px;">
        <div id="debug-button-feature-decrement" 
          style="width:60px;text-align:center;background:#00000040;pointer-events:auto;cursor:pointer;user-select:none;font-size:1.3em;">Feat-</div>
        <div id="debug-button-feature-increment" 
          style="width:60px;text-align:center;background:#00000040;pointer-events:auto;cursor:pointer;user-select:none;font-size:1.3em;">Feat+</div>
      </div>
      <div id="debug-button-feature-auto" 
          style="text-align:center;background:#00000040;pointer-events:auto;cursor:pointer;user-select:none;font-size:1.3em;">
          Auto Adjust: <span id="debug-print-faa"></span>
        </div>
      <div id="debug-print-features">-</div>
    </div>
  </div>
  <div id="content-scroller">
    <div id="mpn-logo-spacer">
      <div id="mpn_logo_container">
        <img id="logo-orig" src="MPN2-Prototype-Image-LogoPlain.png" style="z-index:3;opacity:0;">
        <img id="logo-flash01" src="MPN2-Prototype-Image-LogoGlow.png" style="z-index:2;opacity:0;">
        <img id="logo-base" src="MPN2-Prototype-Image-LogoDark.png" style="z-index:1;">
      </div>
    </div>
    <!-- 
      The below seemingly useless div is needed for Chromium browsers.
      Without this div, the chromium will anchor the scroll progress
      to the scroll-inviter, which makes the scroll oscillate
      along with the scroll-inviter animation.
      Adding this useless div fixes that.
    -->
    <div id="scroll-fixer"
      style="height:100lvh;position:absolute;top:0;left:0;right:0;opacity:0.00;background-color:#FFF;">
      ...
    </div>
    <div id="scroll-inviter-container">
      <div id="scroll-inviter" style="font-size:4em;color:#FFF;">▼</div>
    </div>
    
    <div id="intro-content-container" class="css-filters">
      
      <div id="screen-blanker"></div>
      
      <div id="afterscroll-content-container">
        <div id="page-intro" style="">
          <img id="logo-orig" src="MPN2-Prototype-Image-LogoPlain.png" style="margin-left:64px;margin-right:64px;max-width:min(600px , 100%);align-self:center;">
          
          <div style="font-size:3.0em;font-weight:700;color:#FFFFFF;text-align:center;">
            <span class="lang-en">Malfoy!!!</span>
            <span class="lang-ko">말포이!!!</span>
          </div>
          <div style="font-size:1.2em;font-weight:400;color:#FFFFFF;text-align:left;margin-top:32px;">
            <p>
              <span class="lang-en">Hello Bronies.</span>
              <span class="lang-ko">안녕하세요 브로니 여러분.</span>
              <br>
              <span class="lang-en">Come to our event!</span>
              <span class="lang-ko">와야겠지?</span>
              <br>
              <span class="lang-en">or I'll kill u</span>
              <span class="lang-ko">안오기만 해봐 그냥 콱</span>
            </p>
          </div>
          
          <div id="ticket" class="css-filters" style="pointer-events:auto;">
            <span class="lang-en">Registration!</span>
            <span class="lang-ko">지금 등록!</span>
          </div>
        </div>
        <div id="page-about" style="display:none;">
          <div style="margin-top:64px;font-size:3.0em;font-weight:700;color:#FFFFFF;text-align:center;">
            <span class="lang-en">About!!!</span>
            <span class="lang-ko">개요다!!!</span>
          </div>
        </div>
        <div id="page-coc" style="display:none;">
          <div style="margin-top:64px;font-size:3.0em;font-weight:700;color:#FFFFFF;text-align:center;">
            <span class="lang-en">Code of Conduct!!!</span>
            <span class="lang-ko">규칙이다!!!</span>
          </div>
        </div>
        <div id="page-news" style="display:none;">
          <div style="margin-top:64px;font-size:3.0em;font-weight:700;color:#FFFFFF;text-align:center;margin-bottom:32px;">
            <span class="lang-en">NEWS!!!</span>
            <span class="lang-ko">소식이다!!!</span>
          </div>
          <div id="bsky-outer">
            <bsky-embed 
              username="malangpony.bsky.social"
              load-more="true"
              disable-autoplay="true"
              ></bsky-embed>
          </div>
        </div>
      </div>
    </div>
    
  </div>
  
  <div class="fullsize" id="parallax-image-container" style="z-index:-992;"></div>
  <canvas id="canvas-fireworks" class="fullsize" style="z-index:-996;"></canvas>
  <canvas id="canvas-stars" class="fullsize" style="z-index:-998;"></canvas>
  <div id="sky-bg" class="fullsize" style="z-index:-999;"></div>
</div>

<!-- 3rd party JS libraries -->
<script type="module" src="https://cdn.jsdelivr.net/npm/bsky-embed/dist/bsky-embed.es.js" async></script>

<script src="https://cdn.jsdelivr.net/gh/dylanNew/live2d/webgl/Live2D/lib/live2d.min.js"></script>
<script src="CubismSDK/live2dcubismcore.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/pixi.js@6/dist/browser/pixi.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/pixi-live2d-display/dist/index.min.js"></script>


<!-- Ethically sourced, home-grown spaghetti -->
<script type="module" src="l2d.js"></script>
<script type="module" src="main.js"></script>
<script type="module" src="perfmanager.js"></script>
<script type="module">
  import { sidebar_clicked } from "./main.js";
  window.sidebar_clicked = sidebar_clicked;
</script>

<script>
// For debugging
let L2D;
import('./l2d.js').then(m => L2D = m);
let PerformanceManager;
import('./perfmanager.js').then(m => PerformanceManager = m);
</script>

</body>
</html>
